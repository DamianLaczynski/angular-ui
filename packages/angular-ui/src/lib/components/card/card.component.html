<div
  [class]="cardClasses()"
  [attr.role]="clickable() ? 'button' : null"
  [attr.tabindex]="clickable() && !disabled() ? 0 : null"
  [attr.aria-disabled]="disabled() ? 'true' : null"
  (click)="onCardClick($event)"
>
  <!-- Header Container -->
  @if (showHeader() && !customHeader()) {
  <div class="card__header-container">
    <div class="card__header">
      <!-- Header Icon -->
      @if (headerIcon()) {
      <div class="card__header-icon">
        <ui-icon [icon]="headerIcon()" [size]="'large'" />
      </div>
      }

      <!-- Text Container -->
      <div class="card__text-container">
        @if (title()) {
        <div class="card__title">{{ title() }}</div>
        } @if (subtitle()) {
        <div class="card__subtitle">{{ subtitle() }}</div>
        }
      </div>

      <!-- Quick Action -->
      @if (showQuickAction() && quickActions()) {
      <ng-container *ngTemplateOutlet="quickActions()!"></ng-container>
      }
    </div>
  </div>
  }

  <!-- Custom Header -->
  @if (customHeader()) {
  <div class="card__header-container card__header-container--custom">
    <ng-container *ngTemplateOutlet="customHeader()!"></ng-container>
  </div>
  }

  <!-- Body Container -->
  @if (!customBody()) {
  <div class="card__body-container">
    <div class="card__body">
      @if (bodyText()) {
      <div class="card__body-text">{{ bodyText() }}</div>
      } @else {
      <ng-content></ng-content>
      }
    </div>
  </div>
  }

  <!-- Custom Body -->
  @if (customBody()) {
  <div class="card__body-container card__body-container--custom">
    <ng-container *ngTemplateOutlet="customBody()!"></ng-container>
  </div>
  }

  <!-- Footer Container -->
  @if (showFooter() && !customFooter() && (primaryAction() || secondaryAction())) {
  <div class="card__footer-container">
    <div class="card__footer">
      @if (primaryAction()) {
      <ui-button
        [variant]="primaryAction()!.variant || variant()"
        [appearance]="primaryAction()!.appearance || 'filled'"
        [disabled]="primaryAction()!.disabled || disabled()"
        [size]="primaryAction()!.size || 'medium'"
        (click)="onPrimaryAction($event)"
      >
        @if (primaryAction()!.icon) {
        <ui-icon [icon]="primaryAction()!.icon" [size]="primaryAction()!.size" />
        } {{ primaryAction()!.label }}
      </ui-button>
      } @if (secondaryAction()) {
      <ui-button
        [variant]="secondaryAction()!.variant || 'secondary'"
        [disabled]="secondaryAction()!.disabled || disabled()"
        [size]="secondaryAction()!.size || 'medium'"
        (click)="onSecondaryAction($event)"
      >
        @if (secondaryAction()!.icon) {
        <ui-icon [icon]="secondaryAction()!.icon" [size]="secondaryAction()!.size" />
        } {{ secondaryAction()!.label }}
      </ui-button>
      }
    </div>
  </div>
  }

  <!-- Custom Footer -->
  @if (customFooter()) {
  <div class="card__footer-container card__footer-container--custom">
    <ng-container *ngTemplateOutlet="customFooter()!"></ng-container>
  </div>
  }
</div>
