<div class="ds">
  <!-- Header -->
  <header class="ds__header">
    <h1 class="ds__header__title" (click)="navigateToHome()">Angular UI</h1>
    <div class="ds__header__right">
      <div class="ds__header__meta">
        <span class="ds__header__version">v{{ version }}</span>
        <a
          [href]="githubUrl"
          target="_blank"
          rel="noopener noreferrer"
          class="ds__header__link"
          aria-label="GitHub"
        >
          <ui-icon icon="open" size="small"></ui-icon>
        </a>
        <a
          [href]="npmUrl"
          target="_blank"
          rel="noopener noreferrer"
          class="ds__header__link"
          aria-label="npm"
        >
          <ui-icon icon="arrow_download" size="small"></ui-icon>
        </a>
        <div class="ds__theme-switcher">
          <button
            type="button"
            class="ds__theme-switcher__mode"
            (click)="toggleTheme()"
            [attr.aria-label]="themeLabel()"
          >
            <ui-icon [icon]="themeIcon()" size="small"></ui-icon>
            <span>{{ themeLabel() }}</span>
          </button>

          <span class="ds__theme-switcher__label">{{ currentThemeVariantLabel() }}</span>

          <div class="ds__theme-switcher__variants" role="radiogroup" aria-label="Theme variants">
            @for (variant of themeVariants; track variant.id) {
              <button
                type="button"
                class="ds__theme-switcher__variant"
                [class.ds__theme-switcher__variant--active]="currentThemeVariant() === variant.id"
                [style.--variant-primary]="variant.previewPrimary"
                [style.--variant-secondary]="variant.previewSecondary"
                [attr.aria-label]="variant.label"
                [attr.title]="variant.label"
                [attr.aria-checked]="currentThemeVariant() === variant.id"
                role="radio"
                (click)="setThemeVariant(variant.id)"
              >
                <span class="ds__theme-switcher__swatch"></span>
              </button>
            }
          </div>
        </div>
      </div>
      @if (isMobile()) {
        <ui-button
          class="ds__header__menu-button"
          variant="primary"
          [icon]="isSidebarOpen() ? 'dismiss' : 'navigation'"
          size="medium"
          (click)="toggleSidebar()"
          [attr.aria-label]="isSidebarOpen() ? 'Close sidebar' : 'Open sidebar'"
        ></ui-button>
      }
    </div>
  </header>

  <!-- Overlay (visible on mobile when sidebar is open) -->
  <div
    class="ds__overlay"
    [class.ds__overlay--visible]="isSidebarOpen() && isMobile()"
    (click)="closeSidebar()"
    [attr.aria-hidden]="!isSidebarOpen() || !isMobile()"
  ></div>

  <!-- Content Area -->
  <div class="ds__content">
    <!-- Sidebar Wrapper -->
    <div
      class="ds__sidebar-wrapper"
      [class.ds__sidebar-wrapper--open]="isSidebarOpen() && isMobile()"
    >
      <app-ds-sidebar></app-ds-sidebar>
    </div>

    <!-- Main Content -->
    <div #mainContent class="ds__main-content">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>
